# Курсовой проект по дисциплине "Программирование на Java"

## Введение

Современная разработка на Java предлагает широкий спектр технологий и фреймворков для создания надежных и масштабируемых приложений. Платформа Java остается одной из самых популярных в мире благодаря своей производительности, кроссплатформенности и обширной экосистеме.

В последние годы Spring Boot стал стандартом для быстрой разработки веб-приложений на Java. Он упрощает настройку и развертывание, позволяя разработчикам сосредоточиться на бизнес-логике. Для создания веб-сервисов часто используются такие подходы, как REST и SOAP. SOAP (Simple Object Access Protocol) — это протокол, основанный на XML, который обеспечивает строгую типизацию и стандартизированную структуру сообщений, что делает его надежным выбором для корпоративных приложений.

Актуальность данной темы заключается в необходимости создания простого, но функционального бэкенд-сервиса, который демонстрирует ключевые концепции современной Java-разработки, включая создание SOAP веб-сервисов с помощью Spring Boot и управление состоянием без использования традиционной базы данных.

## Техническое задание

Данное приложение представляет собой бэкенд-сервис для управления задачами (to-do list). Оно предоставляет пользователям следующие возможности:

1.  **Регистрация:** Пользователи могут создавать новые учетные записи, указывая имя пользователя и пароль.
2.  **Аутентификация:** Зарегистрированные пользователи могут входить в систему для получения токена сессии.
3.  **Управление задачами:** Аутентифицированные пользователи могут создавать, просматривать, обновлять и удалять свои задачи.
4.  **Изоляция данных:** Задачи каждого пользователя являются приватными и недоступны другим пользователям.

### Сценарии использования

**Процесс регистрации пользователя:**
Пользователь отправляет SOAP-запрос с желаемым именем пользователя и паролем. Приложение проверяет, не занято ли это имя. Если имя свободно, создается новая учетная запись, и пользователь получает сообщение об успешной регистрации. В противном случае возвращается сообщение об ошибке.

**Процесс входа и управления задачами:**
Пользователь отправляет свои учетные данные для входа. В случае успеха приложение возвращает уникальный токен сессии. Этот токен используется для аутентификации всех последующих запросов на создание, получение, обновление или удаление задач.

## Архитектура

Приложение построено на базе Spring Boot и имеет простую, но эффективную архитектуру, состоящую из нескольких ключевых компонентов.

**Компоненты:**

1.  **`WebServiceConfig`:** Конфигурационный класс, который настраивает и публикует SOAP веб-сервис. Он определяет адрес (`/ws`), по которому будет доступен сервис, и связывает его со схемой `todos.xsd`.
2.  **`TodoEndpoint`:** Основной компонент, который обрабатывает все входящие SOAP-запросы. Он содержит бизнес-логику для регистрации, аутентификации и управления задачами.
3.  **`todos.xsd`:** XML-схема, которая определяет контракт веб-сервиса: структуру запросов и ответов, а также типы данных.
4.  **Frontend (HTML, CSS, JS):** Статические файлы, предоставляющие простой пользовательский интерфейс для взаимодействия с бэкендом.

Взаимодействие между компонентами происходит следующим образом: клиент (в данном случае, frontend) отправляет SOAP-запрос на endpoint, опубликованный `WebServiceConfig`. Spring Web Services направляет этот запрос в `TodoEndpoint`, который выполняет соответствующую бизнес-логику (например, добавляет новую задачу в `userTodos`) и возвращает SOAP-ответ.

## Компоненты и технологии

### Бэкенд

**Spring Boot:** Используется как основа приложения для упрощения конфигурации и запуска.

**Spring Web Services:** Ключевая технология для создания SOAP веб-сервиса. Она обеспечивает обработку SOAP-запросов и их маршрутизацию на нужный endpoint.

**JAXB:** Используется для автоматической генерации Java-классов из XSD-схемы. Это позволяет работать с XML-сообщениями как с Java-объектами.

**Хранение данных:** Данные хранятся в оперативной памяти с использованием `java.util.Map`, что исключает необходимость в настройке внешней базы данных.

*   `users`: `Map<String, String>` для хранения пар логин-пароль.
*   `sessions`: `Map<String, String>` для связи токенов сессии с именами пользователей.
*   `userTodos`: `Map<String, List<Todo>>` для хранения списков задач для каждого пользователя.

**Листинг 1: `TodoEndpoint.java` - Метод регистрации**
```java
@PayloadRoot(namespace = NAMESPACE_URI, localPart = "registrationRequest")
@ResponsePayload
public RegistrationResponse register(@RequestPayload RegistrationRequest request) {
    RegistrationResponse response = new RegistrationResponse();
    if (users.containsKey(request.getUsername())) {
        response.setSuccess(false);
        response.setMessage("Username already exists");
    } else {
        users.put(request.getUsername(), request.getPassword());
        userTodos.put(request.getUsername(), new ArrayList<>());
        response.setSuccess(true);
        response.setMessage("User registered successfully");
    }
    return response;
}
```

### Фронтенд

Фронтенд реализован с использованием нативных веб-технологий: HTML, CSS и JavaScript.

*   **`index.html`:** Содержит структуру страницы, включая формы для входа и регистрации, а также контейнер для списка задач.
*   **`style.css`:** Определяет внешний вид приложения.
*   **`script.js`:** Содержит всю клиентскую логику, включая отправку SOAP-запросов с помощью `fetch` API, обработку ответов и динамическое обновление DOM.

**Скриншот 1: Форма регистрации**

*Изображение `jules-scratch/verification/registration_form.png`*

**Скриншот 2: Главная страница после входа**

*Изображение (не создано, но можно описать): После успешного входа пользователь видит список своих задач с возможностью добавлять новые, отмечать выполненные и удалять их.*

## Заключение

В ходе выполнения данного курсового проекта был разработан полнофункциональный веб-сервис для управления задачами с использованием Java и Spring Boot. Были успешно реализованы такие ключевые функции, как регистрация пользователей, аутентификация и управление задачами с разделением данных между пользователями.

Основной проблемой в ходе разработки стала корректная настройка взаимодействия между фронтендом и бэкендом, в частности, обработка статических файлов и решение проблем с кешированием в Spring Boot. Эта проблема была решена путем перезапуска сервера для применения изменений в статическом контенте.

В результате был создан проект, который демонстрирует современные подходы к разработке на Java и может служить основой для более сложных систем.